(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{22:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(4),s=a.n(n),r=a(14),c=a.n(r),i=(a(22),a(10)),o=a(9);a(23),a(30);o.a.initializeApp({apiKey:"AIzaSyD-rk2y7JYpknYtoSw8CJjsZQ-V8N5ipDc",authDomain:"chat-room-app-309ff.firebaseapp.com",projectId:"chat-room-app-309ff",storageBucket:"chat-room-app-309ff.appspot.com",messagingSenderId:"190769485469",appId:"1:190769485469:web:49511a13f7ae9bb53de674",measurementId:"G-GKJSF1VDBD"});var j=o.a.auth();function l(){var e=new o.a.auth.GoogleAuthProvider;j.signInWithPopup(e)}var m=o.a.firestore(),u=o.a.firestore.FieldValue.serverTimestamp,d=a(15),h=a(3),p=function(){return Object(h.jsxs)("div",{className:"flex-column sign-in-container",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{alt:"chat icon",src:"data:image/png;base64,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"})}),Object(h.jsx)("h1",{className:"sign-in-heading",children:"Chat room app"}),Object(h.jsx)("button",{onClick:l,className:"primary-btn",children:"Sign in"})]})},g=a(13),b=a.n(g),O=a(16),A=a(17),f=function(){var e=j.currentUser,t=m.collection("messages"),a=t.orderBy("createdAt").limitToLast(25),s=Object(A.a)(a),r=Object(i.a)(s,3),c=r[0],o=(r[1],r[2]),l=Object(n.useRef)(null);Object(n.useEffect)((function(){l.current.scrollIntoView({behavior:"smooth"})}),[c]);var d=Object(n.useState)(""),p=Object(i.a)(d,2),g=p[0],f=p[1];function x(){return(x=Object(O.a)(b.a.mark((function a(n){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,t.add({text:g,createdAt:u(),uid:e.uid,displayName:e.displayName});case 3:f("");case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("header",{children:[Object(h.jsx)("button",{onClick:function(){return j.signOut()},className:"primary-btn sign-out-btn",children:"Sign out"}),Object(h.jsx)("p",{className:"header-username",children:e.displayName}),Object(h.jsx)("div",{children:Object(h.jsx)("img",{alt:"user profile",className:"header-user-image",src:e.photoURL})})]}),Object(h.jsxs)("main",{children:[Object(h.jsxs)("section",{children:[Object(h.jsxs)("div",{className:"messages-container",children:[o&&Object(h.jsx)("p",{children:"There was something wrong. Please try again."}),c&&0===c.length&&Object(h.jsx)("p",{children:"Send the first message!"}),c&&c.map((function(t){return Object(h.jsxs)("div",{className:"message-container ".concat((a=t.uid,a===e.uid?"my-message":"")),children:[Object(h.jsx)("span",{className:"message-sender",children:t.displayName}),Object(h.jsx)("div",{className:"message-text",children:Object(h.jsx)("p",{children:t.text})}),Object(h.jsx)("span",{className:"message-time",children:new Date(1e3*t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},t.id);var a}))]}),Object(h.jsx)("span",{ref:l})]}),Object(h.jsx)("section",{children:Object(h.jsxs)("form",{onSubmit:function(e){return x.apply(this,arguments)},children:[Object(h.jsx)("input",{type:"text",value:g,onChange:function(e){return f(e.target.value)},className:"message-input"}),Object(h.jsx)("button",{type:"submit",disabled:!g||""===g.trim(),className:"message-send",children:"Send"})]})})]})]})};a(28);var x=function(){var e=Object(d.a)(j),t=Object(i.a)(e,1)[0];return Object(h.jsx)("div",{className:"App",children:t?Object(h.jsx)(f,{}):Object(h.jsx)(p,{})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,31)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),N()}},[[29,1,2]]]);
//# sourceMappingURL=main.8fc63122.chunk.js.map